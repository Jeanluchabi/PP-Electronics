<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P&P Electronics - Our Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <style>
        /* Additional CSS for uniform product card size */
        .product-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .product-card img {
            max-height: 200px;
            object-fit: cover;
            margin-bottom: 15px;
        }

        .product-card-body {
            flex-grow: 1;
        }

        .learn-more {
            color: #007bff;
            text-decoration: none;
            margin-top: 10px;
        }

        .learn-more:hover {
            text-decoration: underline;
        }

        .product-card:hover {
            transform: scale(1.05);
        }

        /* Cart icon style */
        .cart-icon {
            position: relative;
            display: inline-block;
            font-size: 1.5rem;
            color: white;
        }

        .cart-icon .badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: #dc3545;
            color: white;
            border-radius: 50%;
            padding: 0.2rem 0.6rem;
            font-size: 0.75rem;
        }
    </style>
</head>

<body>
    <!-- Include Header from main.html -->
    <header class="bg-primary text-white p-3">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="index.html" class="navbar-brand">P&P Electronics</a>
            <nav>
                <ul class="nav">
                    <li class="nav-item"><a href="index.html" class="nav-link text-white">Dashboard</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link text-white">About Us</a></li>
                    <li class="nav-item"><a href="products.html" class="nav-link text-white">Our Products</a></li>
                    <li class="nav-item"><a href="orders.html" class="nav-link text-white">My Orders</a></li>
                    <li class="nav-item"><a href="account.html" class="nav-link text-white">Account</a></li>
                    <li class="nav-item">
                        <a href="cart.html" class="cart-icon">
                            <i class="fas fa-shopping-cart"></i>
                            <span id="cart-count" class="badge">0</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Our Products Content -->
    <main>
        <section id="products" class="products-section py-5">
            <div class="container">
                <h2 class="text-center mb-4">Our Products</h2>
                <div id="product-grid" class="row row-cols-1 row-cols-md-3 g-4">
                    <!-- Product Cards -->
                    <div class="col">
                        <div class="product-card">
                            <img src="images/iphone_15_pro.jpg" alt="Apple iPhone 15 Pro Max" class="img-fluid">
                            <div class="product-card-body">
                                <h5>Apple iPhone 15 Pro Max</h5>
                                <p>$1,299.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="Apple iPhone 15 Pro Max" data-price="1299">Learn More</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="product-card">
                            <img src="images/samsung-galaxy-s24.jpg" alt="Samsung Galaxy S24 Ultra" class="img-fluid">
                            <div class="product-card-body">
                                <h5>Samsung Galaxy S24 Ultra</h5>
                                <p>$1,199.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="Samsung Galaxy S24 Ultra" data-price="1199">Learn More</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="product-card">
                            <img src="images/Google-Pixel-9.jpg" alt="Google Pixel 9 Pro XL" class="img-fluid">
                            <div class="product-card-body">
                                <h5>Google Pixel 9 Pro XL</h5>
                                <p>$1,099.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="Google Pixel 9 Pro XL" data-price="1099">Learn More</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="product-card">
                            <img src="images/modern-guitar.jpg" alt="Modern Acoustic Guitar" class="img-fluid">
                            <div class="product-card-body">
                                <h5>Modern Acoustic Guitar</h5>
                                <p>$999.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="Modern Acoustic Guitar" data-price="999">Learn More</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="product-card">
                            <img src="images/jbl.jpg" alt="JBL Speakers" class="img-fluid">
                            <div class="product-card-body">
                                <h5>JBL Speakers</h5>
                                <p>$299.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="JBL Speakers" data-price="299">Learn More</a>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="product-card">
                            <img src="images/watch-series-9-with-dual-straps.jpg" alt="Watch Series 9 with Dual Straps" class="img-fluid">
                            <div class="product-card-body">
                                <h5>Watch Series 9 with Dual Straps</h5>
                                <p>$499.00</p>
                                <a href="#" class="learn-more" data-bs-toggle="modal" data-bs-target="#productModal" data-product="Watch Series 9 with Dual Straps" data-price="499">Learn More</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Modal for Product Details -->
        <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="productModalLabel">Product Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Product details will be dynamically inserted here -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary add-to-cart-modal">Add to Cart</button>
                        <a href="payment.html" class="btn btn-primary">Order Now</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Include Footer from main.html -->
    <footer class="bg-dark text-white py-4">
        <div class="container text-center">
            <p>&copy; 2024 P&P Electronics. All Rights Reserved.</p>
            <p>Follow us on
                <a href="#" class="text-white">Facebook</a>,
                <a href="#" class="text-white">Twitter</a>,
                <a href="#" class="text-white">Instagram</a>
            </p>
            <p><a href="faq.html" class="text-white">FAQ</a> | <a href="#contact" class="text-white">Contact Us</a></p>
        </div>
    </footer>

    <!-- Bootstrap JS and Font Awesome -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script>
        // JavaScript to handle Add to Cart functionality and Modal interactions
        document.addEventListener('DOMContentLoaded', function () {
            const cartCountElement = document.getElementById('cart-count');
            let cartCount = 0;

            // Update cart count
            function updateCartCount() {
                cartCountElement.textContent = cartCount;
            }

            // Add to Cart buttons in product cards
            document.querySelectorAll('.learn-more').forEach(button => {
                button.addEventListener('click', function (event) {
                    event.preventDefault();
                    const productName = button.getAttribute('data-product');
                    const productPrice = button.getAttribute('data-price');
                    const modalBody = document.querySelector('#productModal .modal-body');
                    modalBody.innerHTML = `<p>Details about ${productName}...</p><p>Price: $${productPrice}</p>`;
                });
            });

            // Modal - Load Product Details
            const productModal = document.getElementById('productModal');
            productModal.addEventListener('show.bs.modal', function (event) {
                const button = event.relatedTarget; // Button that triggered the modal
                const productName = button.getAttribute('data-product');
                const productPrice = button.getAttribute('data-price');
                const modalBody = productModal.querySelector('.modal-body');
                modalBody.innerHTML = `<p>Details about ${productName}...</p><p>Price: $${productPrice}</p>`;
            });

            // Add to Cart button in modal
            document.querySelector('.add-to-cart-modal').addEventListener('click', function () {
                cartCount++;
                updateCartCount();
                const modal = bootstrap.Modal.getInstance(productModal);
                modal.hide();
            });
        });
    </script>
</body>

</html>
